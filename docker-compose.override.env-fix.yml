version: '3.8'

services:
  db-storage:
    environment:
      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}
      POSTGRES_USER: postgres
      POSTGRES_DB: storage

  db-auth:
    environment:
      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}
      GOTRUE_DB_DATABASE_URL: postgres://postgres:${POSTGRES_PASSWORD}@db-postgres:5432/postgres?search_path=auth

  db-api:
    environment:
      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}
      PGRST_DB_URI: postgres://postgres:${POSTGRES_PASSWORD}@db-postgres:5432/postgres
      DATABASE_URL: postgresql://postgres:${POSTGRES_PASSWORD}@db-postgres:5432/postgres

  ui-chat:
    environment:
      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}
      REDIS_PASSWORD: ${REDIS_PASSWORD}

  crm-sync:
    environment:
      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}
      REDIS_PASSWORD: ${REDIS_PASSWORD}
